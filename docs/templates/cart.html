{% extends 'base.html' %}
{% load static %}

{% block title %}Cart{% endblock title %}
{% block head_css_page %}<link rel="stylesheet" href="{% static 'css/cart.css' %}">{% endblock head_css_page %}
{% block content %}
    <section id="cart-page" class="container pt-5">
        <div class="small-container">
            <table>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Subtotal</th>
                </tr>
                {% for item in items %}
                <tr>
                    <td>
                        <div class="cart-info">
                            <img class="mb-3" src="{{item.product.image.url}}" alt="">
                            <div>
                                <p class="mb-0">{{item.product.name}}</p>
                                <small>Price: ${{item.product.price}}</small>
                            </div>
                        </div>
                    </td>
                    <td>
                        <p class="quantity">{{item.quantity}}</p>
                        <div class="quantity">
                            <i data-product={{item.product.id}} data-action="add" class="fa fa-chevron-circle-up update-cart" aria-hidden="true"></i> 
                            <i data-product={{item.product.id}} data-action="remove" class="fa fa-chevron-circle-down update-cart" aria-hidden="true"></i>
                        </div> 
                    </td>
                    <td>${{item.get_total}}</td>
                </tr>
                {% endfor %}
            </table>
            <div class="total-price">
                <table>
                    <tr>
                        <td>total:</td>
                        <td>${{order.get_cart_total}}</td>
                    </tr>
                    <tr>
                        <td>item(s):</td>
                        <td>{{order.get_cart_items}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </section>
{% endblock %}